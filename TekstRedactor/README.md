# Текстовый редактор "Редактор им. Жмыха Ящерицы"

## Описание проекта
Проект представляет собой современный кроссплатформенный текстовый редактор, разработанный на языке Rust с использованием фреймворка egui/eframe. Редактор поддерживает работу с несколькими документами, расширенные функции редактирования и настраиваемый интерфейс.

## Функциональность

### Основные возможности
- **Многодокументный интерфейс** - работа с несколькими файлами одновременно через систему вкладок
- **Расширенная система отмены/повтора** - до 50 шагов истории изменений
- **Поиск и замена** - с поддержкой регистра и целых слов
- **Статистика документа** - подсчет страниц, слов, символов, строк и абзацев
- **Автосохранение** - автоматическое сохранение измененных документов
- **Поддержка тем** - светлая и темная темы оформления

### Дополнительные функции
- Настраиваемый размер шрифта
- Горячие клавиши для быстрого доступа к функциям
- Поддержка различных форматов файлов
- Панель состояния с информацией о позиции курсора
- Встроенная система уведомлений об ошибках

## Технические требования

### Системное окружение
- **ОС**: Windows 10/11, Linux, macOS
- **Язык программирования**: Rust 1.70+
- **Система сборки**: Cargo

### Необходимые зависимости
```toml
[dependencies]
eframe = "0.26"
egui = "0.26"
serde = { version = "1.0", features = ["derive"] }
image = "0.24"
rfd = "0.14"
anyhow = "1.0"
```

## Установка и сборка

### 1. Установка Rust
```bash
# Установка Rust через rustup
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env
```

### 2. Клонирование и сборка проекта
```bash
# Клонирование репозитория
git clone <repository-url>
cd text-editor

# Сборка в режиме отладки
cargo build

# Сборка в режиме релиза
cargo build --release
```

### 3. Запуск приложения
```bash
# Запуск в режиме отладки
cargo run

# Запуск собранного приложения
./target/release/text-editor
```

## Структура проекта

```
text-editor/
├── src/
│   ├── main.rs          # Точка входа, инициализация приложения
│   ├── app.rs           # Основная логика приложения и UI
│   ├── document.rs      # Модель документа и операции с текстом
│   ├── settings.rs      # Настройки приложения и темы
│   └── lib.rs           # Модули проекта
├── assets/
│   └── icon.png         # Иконка приложения
├── Cargo.toml           # Конфигурация зависимостей
└── README.md            # Документация проекта
```

## Использование

### Основные операции
1. **Создание документа** - Файл → Создать или Ctrl+N
2. **Открытие файла** - Файл → Открыть или Ctrl+O
3. **Сохранение** - Файл → Сохранить или Ctrl+S
4. **Сохранение как** - Файл → Сохранить как или Ctrl+Shift+S
5. **Закрытие документа** - Файл → Закрыть

### Редактирование текста
- **Отмена**: Правка → Отменить или Ctrl+Z
- **Повтор**: Правка → Повторить или Ctrl+Y
- **Вырезать**: Правка → Вырезать или Ctrl+X
- **Копировать**: Правка → Копировать или Ctrl+C
- **Вставить**: Правка → Вставить или Ctrl+V
- **Выделить все**: Правка → Выделить все или Ctrl+A
- **Поиск/замена**: Правка → Найти/Заменить или Ctrl+F

### Поддерживаемые форматы файлов
- Текстовые файлы (.txt)
- Markdown (.md)
- Исходный код (.rs, .json, .xml, .html, .css)
- И другие текстовые форматы

## Конфигурационные параметры

### Настройки приложения
```rust
pub struct AppSettings {
    pub theme: Theme,              // Светлая или темная тема
    pub font_size: f32,           // Размер шрифта (8-72)
    pub auto_save_enabled: bool,  // Включено ли автосохранение
    pub auto_save_interval: Duration, // Интервал автосохранения
}
```

### Параметры документа
```rust
pub struct Document {
    pub title: String,            // Название документа
    pub content: String,          // Содержимое документа
    pub path: Option<PathBuf>,    // Путь к файлу
    pub modified: bool,           // Флаг изменений
    pub undo_stack: Vec<String>,  // Стек отмены
    pub redo_stack: Vec<String>,  // Стек повтора
}
```

## Горячие клавиши

| Действие | Сочетание клавиш |
|----------|------------------|
| Новый документ | Ctrl+N |
| Открыть файл | Ctrl+O |
| Сохранить | Ctrl+S |
| Сохранить как | Ctrl+Shift+S |
| Отменить | Ctrl+Z |
| Повторить | Ctrl+Y |
| Вырезать | Ctrl+X |
| Копировать | Ctrl+C |
| Вставить | Ctrl+V |
| Выделить все | Ctrl+A |
| Поиск | Ctrl+F |

## Особенности реализации

### Архитектура
- **Модель-Представление**: Четкое разделение данных документа и UI
- **Многодокументный интерфейс**: Каждый документ в отдельной вкладке
- **Событийно-ориентированная архитектура**: Обработка пользовательского ввода через egui

### Производительность
- Минимальное использование памяти благодаря эффективным структурам данных Rust
- Быстрый рендеринг интерфейса через немедленный режим (immediate mode) egui
- Оптимизированные алгоритмы поиска и замены

## Ограничения и известные проблемы
- Ограниченная поддержка очень больших файлов (>100MB)
- Базовая реализация буфера обмена (требует интеграции с системным clipboard)
- Отсутствие продвинутого форматирования текста

## Разработка и расширение

### Добавление новых функций
1. Новые операции с текстом - расширять `Document`
2. Дополнительные настройки - модифицировать `AppSettings`
3. Новые элементы UI - добавлять в `TextEditorApp::update()`

### Сборка для распространения
```bash
# Сборка для Windows
cargo build --release --target x86_64-pc-windows-msvc

# Сборка для Linux
cargo build --release --target x86_64-unknown-linux-gnu

# Сборка для macOS
cargo build --release --target x86_64-apple-darwin
```

## Дополнительные материалы
- [Документация egui](https://docs.rs/egui)
- [Руководство по eframe](https://github.com/emilk/egui/tree/master/crates/eframe)
- [Книга по Rust](https://doc.rust-lang.org/book/)
- [Документация serde](https://serde.rs/)

